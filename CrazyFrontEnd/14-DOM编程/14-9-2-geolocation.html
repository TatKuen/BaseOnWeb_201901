<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" >
        <title>地理信息 example</title>
    </head>
    <body>
        <script type="text/javascript">
            var geoHandler = function(position) {
                var geoMsg = "用户所在的地理位置信息是：<br>";
                geoMsg += "timestamp属性为：" + position.timestamp + "<br>";
                // 获取 Coordinates 对象，包含详细的地理位置信息
                var coords = position.coords;
                // 遍历 Coordinates
                for (var prop in coords) {
                    goMsg += prop + "-->" + coords[prop] + "<br>";
                }
                // 输出地理位置信息
                document.writeln(geoMsg);
            }
            var errorHandler = function(error) {
                // 不同错误代码定义错误提示
                var errMsg = {
                    1: '用户拒绝位置服务',
                    2: '无法获取地理位置信息',
                    3: '获取地理位置信息超时'
                };
                // 弹出错误提是
                alert(errMsg[error.code]);
            }
            // 获取地理位置信息
            navigator.geolocation.getCurrentPosition(geoHandler, errorHandler, {
                enableHighAccuracy: true,
                maximumAge: 1000
            });
        </script>
    </body>
</html>