<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" >
        <title>绑定事件处理函数</title>
    </head>
    <body>
        <form method="POST" onsubmit="return check(this);" id="register" name="register" action="#">
            用户名：<input type="text" name="user" ><br />
            密&nbsp;&nbsp;码：<input type="password" name="pass" ><br />
            电&nbsp;&nbsp;邮: <input type="text" name="email" /><br />
            <input type="submit" value="提交">
        </form>
        
        <script type="text/javascript">
            // String增加trim方法，使用正则表达式截取空格
            String.prototype.trim = function() {
                return this.replace(/^\s*/, "").replace(/\s*$/, "");
            }
            // 负责处理表单submit事件的函数
            var check = function() {
                // 访问页面中的第一个表单
                var form = document.forms[0];
                // 错误字符串
                var errStr = "";
                // 用户名为空
                // trim() 去除字符串的头尾空格
                if (form.user.value == null || form.user.value.trim() == "") {
                    errStr += "\n用户名不能为空！";
                    form.user.focus();
                }
                // 密码为空
                if (form.pass.value == null || form.pass.value.trim() == "") {
                    errStr += "\n密码不能为空！";
                    // 为checkbox 赋予焦点
                    form.pass.focus();
                }
                // 电子邮件为空
                if (form.email.value == null || form.email.value.trim() == "") {
                    errStr += "\n电子邮件不能为空!";
                    form.email.focus();
                }
                // 使用正则表达式校验电子邮件格式是否正确
                if (!/^\w+([-+.]\w+)*@\w+([-.]\w)*\.\w+([-.]\w+)*$/.test(form.email.value.trim())) {
                    errStr += "\n电子邮件的格式不正确！";
                    form.email.focus();
                }
                // 如果错误字符串不为空，则表面校验出错
                if (errStr != "") {
                    // 弹出错误信息
                    alert(errStr);
                    // 返回 false,用于组织表单提交
                    return false;
                }
            }
        </script>
    </body>
</html>